/* Calendar Styles - Fix for display issues */

/* Ensure calendar page takes full height */
.calendar-page {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Calendar wrapper must have explicit height */
.calendar-wrapper {
  flex: 1;
  min-height: 0; /* Critical for flex children with overflow */
  overflow: auto;
}

/* Force FullCalendar to respect container */
.fc {
  height: 100% !important;
}

.fc-view-harness {
  height: 100% !important;
}

/* Scrollable day/week views */
.fc-timegrid-body {
  overflow-y: auto !important;
}

/* Month view scrolling */
.fc-daygrid-body {
  overflow-y: auto !important;
}

/* Ensure calendar container has proper height */
.fc-view-harness-active > .fc-view {
  height: 100% !important;
}

/* Event resize handles - enable both top and bottom resizing */
.fc-event {
  cursor: pointer;
}

/* Top resize handle for time grid events - START EDGE */
.fc-timegrid-event .fc-event-resizer-start {
  cursor: ns-resize !important;
  height: 20px !important;
  top: -10px !important;
  left: 0 !important;
  right: 0 !important;
  background: transparent !important;
  border-top: 3px solid rgba(59, 130, 246, 0.6) !important;
  opacity: 0;
  transition: opacity 0.2s;
  z-index: 50 !important;
  pointer-events: auto !important;
  /* Ensure it's always visible when hovering over the top area */
  position: absolute !important;
  /* Make it easier to grab */
  touch-action: none;
  /* Ensure it's always accessible */
  isolation: isolate;
}

.fc-timegrid-event:hover .fc-event-resizer-start,
.fc-timegrid-event.fc-event-selected .fc-event-resizer-start,
.fc-timegrid-event.fc-event-start-editable:hover .fc-event-resizer-start,
.fc-timegrid-event.fc-event-start-editable .fc-event-resizer-start {
  opacity: 1 !important;
}

/* Bottom resize handle for time grid events - END EDGE */
.fc-timegrid-event .fc-event-resizer-end {
  cursor: ns-resize !important;
  height: 20px !important;
  bottom: -10px !important;
  left: 0 !important;
  right: 0 !important;
  background: transparent !important;
  border-bottom: 3px solid rgba(59, 130, 246, 0.6) !important;
  opacity: 0;
  transition: opacity 0.2s;
  z-index: 50 !important;
  pointer-events: auto !important;
  /* Ensure it's always visible when hovering over the bottom area */
  position: absolute !important;
  /* Make it easier to grab */
  touch-action: none;
  /* Ensure it's always accessible */
  isolation: isolate;
}

.fc-timegrid-event:hover .fc-event-resizer-end,
.fc-timegrid-event.fc-event-selected .fc-event-resizer-end,
.fc-timegrid-event.fc-event-duration-editable:hover .fc-event-resizer-end,
.fc-timegrid-event.fc-event-duration-editable .fc-event-resizer-end {
  opacity: 1 !important;
}

/* Visual feedback during resize */
.fc-event-resizing .fc-event-resizer-start,
.fc-event-resizing .fc-event-resizer-end {
  opacity: 1 !important;
  border-color: rgba(59, 130, 246, 1) !important;
  background: rgba(59, 130, 246, 0.1) !important;
}

/* Ensure resize handles are visible and clickable when editable */
.fc-timegrid-event.fc-event-start-editable .fc-event-resizer-start {
  display: block !important;
  pointer-events: auto !important;
  opacity: 0.8 !important; /* Make it more visible by default */
  /* Ensure it's always accessible */
  z-index: 50 !important;
}

.fc-timegrid-event.fc-event-duration-editable .fc-event-resizer-end {
  display: block !important;
  pointer-events: auto !important;
  opacity: 0.8 !important; /* Make it more visible by default */
  /* Ensure it's always accessible */
  z-index: 50 !important;
}

/* Make resize handles more visible on hover */
.fc-timegrid-event.fc-event-start-editable:hover .fc-event-resizer-start,
.fc-timegrid-event.fc-event-duration-editable:hover .fc-event-resizer-end {
  opacity: 1 !important;
}

/* Prevent event content from blocking resize handles */
.fc-timegrid-event .fc-event-main {
  pointer-events: none;
}

.fc-timegrid-event .fc-event-main-frame {
  pointer-events: none;
}

/* Ensure event body content doesn't block resize handles */
.fc-timegrid-event .calendar-event-body {
  pointer-events: auto;
  /* Reserve space for resize handles at top and bottom (8px to match handle height) */
  margin-top: 8px;
  margin-bottom: 8px;
  /* Lower z-index so resize handles are on top */
  position: relative;
  z-index: 1;
  /* Ensure body doesn't extend into resize handle zones */
  min-height: 24px;
  /* Contain text within event boundaries */
  overflow: hidden;
  line-height: 1.3;
}

/* Make sure resize handles are always on top and clickable */
.fc-timegrid-event .fc-event-resizer-start,
.fc-timegrid-event .fc-event-resizer-end {
  position: absolute !important;
  z-index: 50 !important;
  pointer-events: auto !important;
  /* Ensure handles are always accessible, even when event content is present */
  will-change: opacity;
  /* Prevent any event content from blocking */
  isolation: isolate;
}

/* Ensure the event frame doesn't block resize handles */
.fc-timegrid-event-frame {
  pointer-events: none;
}

/* But allow pointer events on the body for dragging */
.fc-timegrid-event-frame .calendar-event-body {
  pointer-events: auto;
  cursor: move;
}

/* Critical: Ensure resize handles are always above event content */
.fc-timegrid-event {
  position: relative;
}

/* Make sure event content wrapper doesn't block resize handles */
.fc-timegrid-event .fc-event-main-frame {
  pointer-events: none !important;
}

/* Only the body content should be interactive, not the wrapper */
.fc-timegrid-event .fc-event-main-frame > * {
  pointer-events: auto;
}

/* CRITICAL: Ensure the entire event frame allows resize handles to work */
.fc-timegrid-event .fc-event-frame {
  pointer-events: none;
}

/* But allow the body to be draggable for move */
.fc-timegrid-event .fc-event-frame .calendar-event-body {
  pointer-events: auto;
  cursor: move;
}
/* Ensure resize handles work even when event is being hovered */
.fc-timegrid-event:hover .fc-event-resizer-start,
.fc-timegrid-event:hover .fc-event-resizer-end {
  pointer-events: auto !important;
  z-index: 50 !important;
}

/* Contain event content within boundaries - use ellipsis for overflow */
.fc-event-main {
  overflow: hidden !important;
}

.fc-event-main-frame {
  overflow: hidden !important;
}

.fc-event-title-container {
  overflow: hidden !important;
}

.fc-event-title {
  overflow: hidden !important;
  text-overflow: ellipsis;
  line-height: 1.3;
}

